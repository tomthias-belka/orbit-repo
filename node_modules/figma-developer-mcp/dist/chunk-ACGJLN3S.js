import{c as F,d as h,e as d,f as g}from"./chunk-HDFA5JOA.js";import{isTruthy as G}from"remeda";function c(e,t,o){if(!(typeof t=="object"&&t!==null)||!(e in t))return!1;let n=t[e];return o?o(n):n!==void 0}function x(e){return typeof e=="object"&&!!e&&"clipsContent"in e&&typeof e.clipsContent=="boolean"}function T(e){return typeof e=="object"&&!!e&&"absoluteBoundingBox"in e&&typeof e.absoluteBoundingBox=="object"&&!!e.absoluteBoundingBox&&"x"in e.absoluteBoundingBox&&"y"in e.absoluteBoundingBox&&"width"in e.absoluteBoundingBox&&"height"in e.absoluteBoundingBox}function L(e,t){let o=["HORIZONTAL","VERTICAL"];return x(t)&&o.includes(t.layoutMode??"NONE")&&T(e)&&e.layoutPositioning!=="ABSOLUTE"}function k(e){return typeof e=="object"&&e!==null&&"top"in e&&"right"in e&&"bottom"in e&&"left"in e}function B(e,t){let o=t;return typeof t=="object"&&!!t&&e in o&&typeof o[e]=="object"&&!!o[e]&&"x"in o[e]&&"y"in o[e]&&"width"in o[e]&&"height"in o[e]}function V(e){return Array.isArray(e)&&e.length===4&&e.every(t=>typeof t=="number")}function N(e,t,o={},i={styles:{}}){let n={globalVars:i,currentDepth:0};return{nodes:e.filter(r=>I(r,o)).map(r=>M(r,t,n,o)).filter(r=>r!==null),globalVars:n.globalVars}}function M(e,t,o,i){if(!I(e,i))return null;let n={id:e.id,name:e.name,type:e.type==="VECTOR"?"IMAGE-SVG":e.type};for(let a of t)a(e,n,o);if(te(e,o,i)){let a={...o,currentDepth:o.currentDepth+1,parent:e};if(c("children",e)&&e.children.length>0){let r=e.children.filter(s=>I(s,i)).map(s=>M(s,t,a,i)).filter(s=>s!==null);if(r.length>0){let s=i.afterChildren?i.afterChildren(e,n,r):r;s.length>0&&(n.children=s)}}}return n}function I(e,t){return!(!d(e)||t.nodeFilter&&!t.nodeFilter(e))}function te(e,t,o){return!(o.maxDepth!==void 0&&t.currentDepth>=o.maxDepth)}function w(e){return Object.fromEntries(Object.entries(e).map(([t,o])=>[t,{id:t,key:o.key,name:o.name,componentSetId:o.componentSetId}]))}function $(e){return Object.fromEntries(Object.entries(e).map(([t,o])=>[t,{id:t,key:o.key,name:o.name,description:o.description}]))}function oe(e,t,o={}){let{metadata:i,rawNodes:n,components:a,componentSets:r,extraStyles:s}=ie(e),l={styles:{},extraStyles:s},{nodes:f,globalVars:u}=N(n,t,o,l);return{...i,nodes:f,components:w(a),componentSets:$(r),globalVars:{styles:u.styles}}}function ie(e){let t={},o={},i={},n;if("nodes"in e){let r=Object.values(e.nodes);r.forEach(s=>{s.components&&Object.assign(t,s.components),s.componentSets&&Object.assign(o,s.componentSets),s.styles&&Object.assign(i,s.styles)}),n=r.map(s=>s.document).filter(d)}else Object.assign(t,e.components),Object.assign(o,e.componentSets),e.styles&&(i=e.styles),n=e.document.children.filter(d);let{name:a}=e;return{metadata:{name:a},rawNodes:n,extraStyles:i,components:t,componentSets:o}}function v(e,t){let o=se(e),i=ae(e,t,o.mode)||{};return{...o,...i}}function O(e,t){if(t&&t.mode!=="none"){let{children:o,mode:i,axis:n}=t,a=re(n,i);if(o.length>0&&o.reduce((s,l)=>s?"layoutPositioning"in l&&l.layoutPositioning==="ABSOLUTE"?!0:a==="horizontal"?"layoutSizingHorizontal"in l&&l.layoutSizingHorizontal==="FILL":a==="vertical"?"layoutSizingVertical"in l&&l.layoutSizingVertical==="FILL":!1:!1,!0))return"stretch"}switch(e){case"MIN":return;case"MAX":return"flex-end";case"CENTER":return"center";case"SPACE_BETWEEN":return"space-between";case"BASELINE":return"baseline";default:return}}function ne(e){switch(e){case"MIN":return;case"MAX":return"flex-end";case"CENTER":return"center";case"STRETCH":return"stretch";default:return}}function P(e){if(e==="FIXED")return"fixed";if(e==="FILL")return"fill";if(e==="HUG")return"hug"}function re(e,t){switch(e){case"primary":switch(t){case"row":return"horizontal";case"column":return"vertical"}case"counter":switch(t){case"row":return"horizontal";case"column":return"vertical"}}}function se(e){if(!x(e))return{mode:"none"};let t={mode:!e.layoutMode||e.layoutMode==="NONE"?"none":e.layoutMode==="HORIZONTAL"?"row":"column"},o=[];return e.overflowDirection?.includes("HORIZONTAL")&&o.push("x"),e.overflowDirection?.includes("VERTICAL")&&o.push("y"),o.length>0&&(t.overflowScroll=o),t.mode==="none"||(t.justifyContent=O(e.primaryAxisAlignItems??"MIN",{children:e.children,axis:"primary",mode:t.mode}),t.alignItems=O(e.counterAxisAlignItems??"MIN",{children:e.children,axis:"counter",mode:t.mode}),t.alignSelf=ne(e.layoutAlign),t.wrap=e.layoutWrap==="WRAP"?!0:void 0,t.gap=e.itemSpacing?`${e.itemSpacing??0}px`:void 0,(e.paddingTop||e.paddingBottom||e.paddingLeft||e.paddingRight)&&(t.padding=h({top:e.paddingTop??0,right:e.paddingRight??0,bottom:e.paddingBottom??0,left:e.paddingLeft??0}))),t}function ae(e,t,o){if(!T(e))return;let i={mode:o};if(i.sizing={horizontal:P(e.layoutSizingHorizontal),vertical:P(e.layoutSizingVertical)},x(t)&&!L(e,t)&&(e.layoutPositioning==="ABSOLUTE"&&(i.position="absolute"),e.absoluteBoundingBox&&t.absoluteBoundingBox&&(i.locationRelativeToParent={x:g(e.absoluteBoundingBox.x-t.absoluteBoundingBox.x),y:g(e.absoluteBoundingBox.y-t.absoluteBoundingBox.y)})),B("absoluteBoundingBox",e)){let n={};o==="row"?(!e.layoutGrow&&e.layoutSizingHorizontal=="FIXED"&&(n.width=e.absoluteBoundingBox.width),e.layoutAlign!=="STRETCH"&&e.layoutSizingVertical=="FIXED"&&(n.height=e.absoluteBoundingBox.height)):o==="column"?(e.layoutAlign!=="STRETCH"&&e.layoutSizingHorizontal=="FIXED"&&(n.width=e.absoluteBoundingBox.width),!e.layoutGrow&&e.layoutSizingVertical=="FIXED"&&(n.height=e.absoluteBoundingBox.height),e.preserveRatio&&(n.aspectRatio=e.absoluteBoundingBox?.width/e.absoluteBoundingBox?.height)):((!e.layoutSizingHorizontal||e.layoutSizingHorizontal==="FIXED")&&(n.width=e.absoluteBoundingBox.width),(!e.layoutSizingVertical||e.layoutSizingVertical==="FIXED")&&(n.height=e.absoluteBoundingBox.height)),Object.keys(n).length>0&&(n.width&&(n.width=g(n.width)),n.height&&(n.height=g(n.height)),i.dimensions=n)}return i}function le(e,t,o){let i=t;switch(e){case"FILL":return{css:i?{backgroundSize:"cover",backgroundRepeat:"no-repeat",isBackground:!0}:{objectFit:"cover",isBackground:!1},processing:{needsCropping:!1,requiresImageDimensions:!1}};case"FIT":return{css:i?{backgroundSize:"contain",backgroundRepeat:"no-repeat",isBackground:!0}:{objectFit:"contain",isBackground:!1},processing:{needsCropping:!1,requiresImageDimensions:!1}};case"TILE":return{css:{backgroundRepeat:"repeat",backgroundSize:o?`calc(var(--original-width) * ${o}) calc(var(--original-height) * ${o})`:"auto",isBackground:!0},processing:{needsCropping:!1,requiresImageDimensions:!0}};case"STRETCH":return{css:i?{backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",isBackground:!0}:{objectFit:"fill",isBackground:!1},processing:{needsCropping:!1,requiresImageDimensions:!1}};default:return{css:{},processing:{needsCropping:!1,requiresImageDimensions:!1}}}}function ce(e){let o=e.flat().reduce((i,n)=>{let a=n.toString();for(let r=0;r<a.length;r++)i=(i<<5)-i+a.charCodeAt(r)&4294967295;return i},0);return Math.abs(o).toString(16).substring(0,6)}function ue(e){let t=ce(e);return{needsCropping:!0,requiresImageDimensions:!1,cropTransform:e,filenameSuffix:`${t}`}}function z(e,t=!1){let o={colors:[]};return c("strokes",e)&&Array.isArray(e.strokes)&&e.strokes.length&&(o.colors=e.strokes.filter(d).map(i=>R(i,t))),c("strokeWeight",e)&&typeof e.strokeWeight=="number"&&e.strokeWeight>0&&(o.strokeWeight=`${e.strokeWeight}px`),c("strokeDashes",e)&&Array.isArray(e.strokeDashes)&&e.strokeDashes.length&&(o.strokeDashes=e.strokeDashes),c("individualStrokeWeights",e,k)&&(o.strokeWeight=h(e.individualStrokeWeights)),o}function R(e,t=!1){if(e.type==="IMAGE"){let o={type:"IMAGE",imageRef:e.imageRef,scaleMode:e.scaleMode,scalingFactor:e.scalingFactor},i=t||o.scaleMode==="TILE",{css:n,processing:a}=le(o.scaleMode,i,e.scalingFactor),r=a;if(e.imageTransform){let s=ue(e.imageTransform);r={...a,...s,requiresImageDimensions:a.requiresImageDimensions||s.requiresImageDimensions}}return{...o,...n,imageDownloadArguments:r}}else if(e.type==="SOLID"){let{hex:o,opacity:i}=fe(e.color,e.opacity);return i===1?o:p(e.color,i)}else{if(e.type==="PATTERN")return pe(e);if(["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"].includes(e.type))return{type:e.type,gradient:Se(e)};throw new Error(`Unknown paint type: ${e.type}`)}}function pe(e){let t="repeat",o="left";switch(e.horizontalAlignment){case"START":o="left";break;case"CENTER":o="center";break;case"END":o="right";break}let i="top";switch(e.verticalAlignment){case"START":i="top";break;case"CENTER":i="center";break;case"END":i="bottom";break}return{type:e.type,patternSource:{type:"IMAGE-PNG",nodeId:e.sourceNodeId},backgroundRepeat:t,backgroundSize:`${Math.round(e.scalingFactor*100)}%`,backgroundPosition:`${o} ${i}`}}function fe(e,t=1){let o=Math.round(e.r*255),i=Math.round(e.g*255),n=Math.round(e.b*255),a=Math.round(t*e.a*100)/100;return{hex:"#"+((1<<24)+(o<<16)+(i<<8)+n).toString(16).slice(1).toUpperCase(),opacity:a}}function p(e,t=1){let o=Math.round(e.r*255),i=Math.round(e.g*255),n=Math.round(e.b*255),a=Math.round(t*e.a*100)/100;return`rgba(${o}, ${i}, ${n}, ${a})`}function me(e,t={width:1,height:1}){let o=e.gradientHandlePositions;if(!o||o.length<2)return{stops:e.gradientStops.map(({position:s,color:l})=>`${p(l,1)} ${Math.round(s*100)}%`).join(", "),cssGeometry:"0deg"};let[i,n,a]=o;switch(e.type){case"GRADIENT_LINEAR":return de(e.gradientStops,i,n,t);case"GRADIENT_RADIAL":return ye(e.gradientStops,i,n,a,t);case"GRADIENT_ANGULAR":return he(e.gradientStops,i,n,a,t);case"GRADIENT_DIAMOND":return xe(e.gradientStops,i,n,a,t);default:return{stops:e.gradientStops.map(({position:s,color:l})=>`${p(l,1)} ${Math.round(s*100)}%`).join(", "),cssGeometry:"0deg"}}}function de(e,t,o,i){let n=o.x-t.x,a=o.y-t.y;if(Math.sqrt(n*n+a*a)===0)return{stops:e.map(({position:m,color:E})=>`${p(E,1)} ${Math.round(m*100)}%`).join(", "),cssGeometry:"0deg"};let s=Math.atan2(a,n)*(180/Math.PI)+90,l=ge(t,o);if(l.length>=2){let u=Math.min(l[0],l[1]),m=Math.max(l[0],l[1]),E=m-u;return{stops:e.map(({position:Y,color:Z})=>{let J=p(Z,1),Q=(Y*1+0-u)/(m-u),ee=Math.max(0,Math.min(1,Q));return`${J} ${Math.round(ee*100)}%`}).join(", "),cssGeometry:`${Math.round(s)}deg`}}return{stops:e.map(({position:u,color:m})=>`${p(m,1)} ${Math.round(u*100)}%`).join(", "),cssGeometry:`${Math.round(s)}deg`}}function ge(e,t){let o=t.x-e.x,i=t.y-e.y;if(Math.abs(o)<1e-10&&Math.abs(i)<1e-10)return[];let n=[];if(Math.abs(i)>1e-10){let r=-e.y/i,s=e.x+r*o;s>=0&&s<=1&&n.push(r)}if(Math.abs(i)>1e-10){let r=(1-e.y)/i,s=e.x+r*o;s>=0&&s<=1&&n.push(r)}if(Math.abs(o)>1e-10){let r=-e.x/o,s=e.y+r*i;s>=0&&s<=1&&n.push(r)}if(Math.abs(o)>1e-10){let r=(1-e.x)/o,s=e.y+r*i;s>=0&&s<=1&&n.push(r)}return[...new Set(n.map(r=>Math.round(r*1e6)/1e6))].sort((r,s)=>r-s)}function ye(e,t,o,i,n){let a=Math.round(t.x*100),r=Math.round(t.y*100);return{stops:e.map(({position:l,color:f})=>`${p(f,1)} ${Math.round(l*100)}%`).join(", "),cssGeometry:`circle at ${a}% ${r}%`}}function he(e,t,o,i,n){let a=Math.round(t.x*100),r=Math.round(t.y*100),s=Math.atan2(o.y-t.y,o.x-t.x)*(180/Math.PI)+90;return{stops:e.map(({position:f,color:u})=>`${p(u,1)} ${Math.round(f*100)}%`).join(", "),cssGeometry:`from ${Math.round(s)}deg at ${a}% ${r}%`}}function xe(e,t,o,i,n){let a=Math.round(t.x*100),r=Math.round(t.y*100);return{stops:e.map(({position:l,color:f})=>`${p(f,1)} ${Math.round(l*100)}%`).join(", "),cssGeometry:`ellipse at ${a}% ${r}%`}}function Se(e){let t={...e,gradientStops:[...e.gradientStops].sort((n,a)=>n.position-a.position)},{stops:o,cssGeometry:i}=me(t);switch(e.type){case"GRADIENT_LINEAR":return`linear-gradient(${i}, ${o})`;case"GRADIENT_RADIAL":return`radial-gradient(${i}, ${o})`;case"GRADIENT_ANGULAR":return`conic-gradient(${i}, ${o})`;case"GRADIENT_DIAMOND":return`radial-gradient(${i}, ${o})`;default:return`linear-gradient(0deg, ${o})`}}function j(e){if(!c("effects",e))return{};let t=e.effects.filter(l=>l.visible),o=t.filter(l=>l.type==="DROP_SHADOW").map(be),i=t.filter(l=>l.type==="INNER_SHADOW").map(Ae),n=[...o,...i].join(", "),a=t.filter(l=>l.type==="LAYER_BLUR").map(H).join(" "),r=t.filter(l=>l.type==="BACKGROUND_BLUR").map(H).join(" "),s={};return n&&(e.type==="TEXT"?s.textShadow=n:s.boxShadow=n),a&&(s.filter=a),r&&(s.backdropFilter=r),s}function be(e){return`${e.offset.x}px ${e.offset.y}px ${e.radius}px ${e.spread??0}px ${p(e.color)}`}function Ae(e){return`inset ${e.offset.x}px ${e.offset.y}px ${e.radius}px ${e.spread??0}px ${p(e.color)}`}function H(e){return`blur(${e.radius}px)`}function _(e){return e.type==="TEXT"}function D(e){return c("style",e)&&Object.keys(e.style).length>0}function W(e){if(c("characters",e,G))return e.characters}function U(e){if(D(e)){let t=e.style;return{fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,lineHeight:"lineHeightPx"in t&&t.lineHeightPx&&t.fontSize?`${t.lineHeightPx/t.fontSize}em`:void 0,letterSpacing:t.letterSpacing&&t.letterSpacing!==0&&t.fontSize?`${t.letterSpacing/t.fontSize*100}%`:void 0,textCase:t.textCase,textAlignHorizontal:t.textAlignHorizontal,textAlignVertical:t.textAlignVertical}}}function y(e,t,o){let[i]=Object.entries(e.styles).find(([a,r])=>JSON.stringify(r)===JSON.stringify(t))??[];if(i)return i;let n=F(o);return e.styles[n]=t,n}var b=(e,t,o)=>{let i=v(e,o.parent);Object.keys(i).length>1&&(t.layout=y(o.globalVars,i,"layout"))},A=(e,t,o)=>{if(_(e)&&(t.text=W(e)),D(e)){let i=U(e);if(i){let n=S(e,o,["text","typography"]);n?(o.globalVars.styles[n]=i,t.textStyle=n):t.textStyle=y(o.globalVars,i,"style")}}},C=(e,t,o)=>{let i=c("children",e)&&Array.isArray(e.children)&&e.children.length>0;if(c("fills",e)&&Array.isArray(e.fills)&&e.fills.length){let r=e.fills.map(l=>R(l,i)).reverse(),s=S(e,o,["fill","fills"]);s?(o.globalVars.styles[s]=r,t.fills=s):t.fills=y(o.globalVars,r,"fill")}let n=z(e,i);if(n.colors.length){let r=S(e,o,["stroke","strokes"]);r?(o.globalVars.styles[r]=n.colors,t.strokes=r,n.strokeWeight&&(t.strokeWeight=n.strokeWeight),n.strokeDashes&&(t.strokeDashes=n.strokeDashes),n.strokeWeights&&(t.strokeWeights=n.strokeWeights)):t.strokes=y(o.globalVars,n,"stroke")}let a=j(e);if(Object.keys(a).length){let r=S(e,o,["effect","effects"]);r?(o.globalVars.styles[r]=a,t.effects=r):t.effects=y(o.globalVars,a,"effect")}c("opacity",e)&&typeof e.opacity=="number"&&e.opacity!==1&&(t.opacity=e.opacity),c("cornerRadius",e)&&typeof e.cornerRadius=="number"&&(t.borderRadius=`${e.cornerRadius}px`),c("rectangleCornerRadii",e,V)&&(t.borderRadius=`${e.rectangleCornerRadii[0]}px ${e.rectangleCornerRadii[1]}px ${e.rectangleCornerRadii[2]}px ${e.rectangleCornerRadii[3]}px`)},X=(e,t,o)=>{e.type==="INSTANCE"&&(c("componentId",e)&&(t.componentId=e.componentId),c("componentProperties",e)&&(t.componentProperties=Object.entries(e.componentProperties??{}).map(([i,{value:n,type:a}])=>({name:i,value:n.toString(),type:a}))))};function S(e,t,o){if(!c("styles",e))return;let i=e.styles;for(let n of o){let a=i[n];if(a){let r=t.globalVars.extraStyles?.[a];if(r?.name)return r.name}}}var Ee=[b,A,C,X],Te=[b,A],Ie=[A],Ne=[C],Re=[b],q=new Set(["IMAGE-SVG","STAR","LINE","ELLIPSE","REGULAR_POLYGON","RECTANGLE"]);function De(e,t,o){let i=o.every(n=>q.has(n.type));return(e.type==="FRAME"||e.type==="GROUP"||e.type==="INSTANCE")&&i?(t.type="IMAGE-SVG",[]):o}export{N as a,oe as b,b as c,A as d,C as e,X as f,Ee as g,Te as h,Ie as i,Ne as j,Re as k,De as l};
